<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Context-Free Grammar"><title>Theory of Computation Lecture 4</title>
<link rel=canonical href=https://suz-tsinghua.github.io/p/theory-of-computation-lecture-4/><link rel=stylesheet href=/scss/style.min.0304c6baf04e01a8fe70693791cb744d56a3578a3120a8796cefc66825aa39c7.css><meta property='og:title' content="Theory of Computation Lecture 4"><meta property='og:description' content="Context-Free Grammar"><meta property='og:url' content='https://suz-tsinghua.github.io/p/theory-of-computation-lecture-4/'><meta property='og:site_name' content='suz'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Theory of Computation'><meta property='article:published_time' content='2024-04-17T15:00:00+08:00'><meta property='article:modified_time' content='2024-04-17T15:00:00+00:00'><meta property='og:image' content='https://suz-tsinghua.github.io/p/theory-of-computation-lecture-4/cover.png'><meta name=twitter:title content="Theory of Computation Lecture 4"><meta name=twitter:description content="Context-Free Grammar"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://suz-tsinghua.github.io/p/theory-of-computation-lecture-4/cover.png'><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu1189040654346373991.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>😇</span></figure><div class=site-meta><h1 class=site-name><a href=/>suz</a></h1><h2 class=site-description></h2></div></header><ol class=menu-social><li><a href=https://github.com/SUZ-tsinghua target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href='https://scholar.google.com/citations?user=R5Y1xlUAAAAJ&amp;hl=zh-CN&amp;oi=sra' target=_blank title="Google scholar" rel=me><svg class="icon icon-tabler icon-tabler-brand-google" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M20.945 11a9 9 0 11-3.284-5.997l-2.655 2.392A5.5 5.5.0 1017.125 14H13v-3h7.945z"/></svg></a></li><li><a href=https://twitter.com target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#context-free-grammar>Context-Free Grammar</a></li><li><a href=#cfg-is-more-powerful-than-dfa>CFG is more powerful than DFA</a></li><li><a href=#parse-trees-and-ambiguity>Parse Trees and Ambiguity</a></li><li><a href=#closure-properties>Closure Properties</a></li><li><a href=#pushdown-automaton-pda>Pushdown Automaton (PDA)</a></li><li><a href=#equivalence-of-cfg-and-pda>Equivalence of CFG and PDA</a></li><li><a href=#chomsky-normal-form-and-cyk-algorithm>Chomsky Normal Form and CYK algorithm</a></li><li><a href=#pumping-lemma-for-cfl>Pumping Lemma for CFL</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/theory-of-computation-lecture-4/><img src=/p/theory-of-computation-lecture-4/cover_hu12822679302449286850.png srcset="/p/theory-of-computation-lecture-4/cover_hu12822679302449286850.png 800w, /p/theory-of-computation-lecture-4/cover_hu17888011290595606477.png 1600w" width=800 height=393 loading=lazy alt="Featured image of post Theory of Computation Lecture 4"></a></div><div class=article-details><header class=article-category><a href=/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/>课程笔记</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/theory-of-computation-lecture-4/>Theory of Computation Lecture 4</a></h2><h3 class=article-subtitle>Context-Free Grammar</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Apr 17, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 5 分钟</time></div></footer></div></header><section class=article-content><h1 id=lecture-4-context-free-grammar>Lecture 4 Context-Free Grammar</h1><h2 id=context-free-grammar>Context-Free Grammar</h2><p>We have already known that REGEXPs can <em>generate</em> languages. Now we introduce another way to generate languages: <em>Context-free grammar (CFG)</em>.</p><blockquote><p><strong>Definition:</strong></p><p>A <em>CFG</em> is a 4-tuple $(V, \Sigma, R, S)$:</p><ul><li>$V$ is a set of <em>variables</em>.</li><li>$\Sigma$ is a set of <em>terminals</em>.</li><li>$R$ is a set of <em>rules</em> (a rule consists of a variable and a sting in $(V\cup \Sigma)^*$).</li><li>$S$ is the <em>start variable</em>.</li></ul><p>We say $uAv$ <em>yields</em> $uwv$ ($uAv \Rightarrow uwv$) if $A\to w$ is a rule in $R$.</p><p>We say $u$ <em>derives</em> $v$ ($u \Rightarrow^* v$) if $\exists u_1, u_2, \cdots, u_k$ such that $u\Rightarrow u_1\Rightarrow u_2\Rightarrow\cdots\Rightarrow u_k \Rightarrow v$.</p></blockquote><p>总的来说，CFG 就是从 $S$ 开始，每次从现在的字符串中选择一个 variable，依据某个 rule 将其替换为一个 string，直到没有 variable 为止。</p><blockquote><p><strong>Definition:</strong></p><p>The <em>language</em> of a CFG $G$ is defined as:</p><p>$$L(G)=\{w\in \Sigma^* | S\Rightarrow^* w\}$$</p></blockquote><h2 id=cfg-is-more-powerful-than-dfa>CFG is more powerful than DFA</h2><p>要证明 CFG is <strong>strictly</strong> more powerful than DFA，要从两方面入手：</p><ul><li>(1) 存在 language，可以用 CFG 表达，但不是 regular language。</li><li>(2) 任意 regular language 都可以用 CFG 表达。</li></ul><p>对于 (1)，上节课已知 $L=\{0^n1^n | n\geq 0\}$ is nonregular，但可以用 CFG $S\to 0S1|\epsilon$ 得到。</p><p>对于 (2)，即要证明：</p><blockquote><p><strong>Theorem:</strong></p><p>Given a DFA $A=(Q,\Sigma,\delta,q_0,F)$, we can find a CFG $A^{\prime}=(V,\Sigma^{\prime},R,S)$, such that $L(A)=L(A^{\prime})$.</p><p><strong>Proof:</strong></p><ul><li>对 $A$ 的每个 state $q_i$，在 $V$ 中引入一个变量 $R_i$。</li><li>如果 $\delta(q_i,a)=q_j$，就在 $R$ 中引入 rule $R_i\to a R_j$。</li><li>$q_0$ 是 starting state，那么 $R_0$ 就是 start variable。</li><li>如果 $q_i$ 是一个 accepting state，就在 $R$ 中加入 rule $R_i\to\epsilon$。</li></ul><p>这样构造出来的 $A^{\prime}$ 满足 $L(A)=L(A^{\prime})$。</p></blockquote><p>An example:</p><p><img src=/p/theory-of-computation-lecture-4/1.png width=1351 height=243 srcset="/p/theory-of-computation-lecture-4/1_hu8015602755011015200.png 480w, /p/theory-of-computation-lecture-4/1_hu11338169947987226798.png 1024w" loading=lazy class=gallery-image data-flex-grow=555 data-flex-basis=1334px></p><h2 id=parse-trees-and-ambiguity>Parse Trees and Ambiguity</h2><p>可以用一个 parse tree 来表示从 start variable 生成一个 string of terminals 的过程：</p><blockquote><p><strong>Definition:</strong></p><p>Parse tree:</p><ul><li>Each <em>internal node</em> labeled with a <em>variable</em>.</li><li>Each <em>leaf</em> labeled with a <em>terminal</em>.</li><li>The children of a node represent the rule that was applied.</li></ul></blockquote><p>An example:</p><p><img src=/p/theory-of-computation-lecture-4/parse_tree.png width=1343 height=499 srcset="/p/theory-of-computation-lecture-4/parse_tree_hu14319360060515793385.png 480w, /p/theory-of-computation-lecture-4/parse_tree_hu10302481771897833312.png 1024w" loading=lazy class=gallery-image data-flex-grow=269 data-flex-basis=645px></p><blockquote><p><strong>Definition:</strong></p><p>A CFG is called <em>ambiguous</em> if a string has two distinct parse trees.</p></blockquote><p>直观上来说，ambiguous 指的就是存在歧义，比如 $a+a\times a$，如果不定义 + 和 $\times$ 的计算顺序，就有可能先算 +，也可能先算 $\times$。</p><p>ambiguous 并不等同于 “存在两种 derivations”，因为两种 derivations 可能对应同一个 parse tree。</p><blockquote><p><strong>Definition:</strong></p><p><em>Leftmost derivation</em>: 每一步替换当前 string 最左边的那个 variable。</p></blockquote><blockquote><p><strong>Theorem:</strong></p><p>ambiguous 等价于存在两种 leftmost derivations。</p></blockquote><blockquote><p><strong>Definition:</strong></p><p>A CFL (context free language, 即可以用某个 CFG 生成的 language) is called <em>inherently ambiguous</em> if every CFG of it is ambiguous.</p></blockquote><p>An example of inherently ambiguous CFL:</p><p>$$L=\{w | w=a^ib^jc^k, i,j,k\geq 1 \text{ and } i=j \text{ or } i=k\}$$</p><h2 id=closure-properties>Closure Properties</h2><blockquote><p><strong>Theorem:</strong></p><p>CFLs are closed under Union, Concatenation, Kleene Star.</p><p><strong>Proof:</strong></p><p>只需要在原先的 CFG 之上引入新的 start variable，用新的 start variable 去生成旧的 start variables即可。</p></blockquote><blockquote><p><strong>Theorem:</strong></p><p>CFLs are NOT closed under intersection. But CFLs are closed under intersection with REGULAR languages.</p><p><strong>Proof:</strong></p><p>$$L = \{w : w \in \{0, 1\}^*, w \text{ is a palindrome, and } w \text{ contains fewer 0s than 1s }\}$$</p><p>这是两个 CFL 的 intersection，可以用后面将要介绍的 pumping lemma 证明它不是 CFL。</p></blockquote><h2 id=pushdown-automaton-pda>Pushdown Automaton (PDA)</h2><p>Regular language 在句法上可以用 REGEXP 生成，在计算模型上可以被 DFA、NFA 识别。CFL 在句法上可以用 CFG 生成，现引入新的计算模型 PDA 来识别 CFL。</p><p>由于 CFL 是 regular language 的扩充，PDA 也应该是 NFA 的扩充。事实上，PDA 就是为 NFA 多提供了一个无穷大的 stack，PDA 读取 input 的时候，可以从 stack 中 push 或 pop 一个 symbol。</p><p>PDA 做的事情就是，每次读取一个 input（可能是 $\epsilon$），并从 stack 顶部 pop 出一个 symbol（可能是 $\epsilon$），然后 transit to a new state and push a symbol to the top of the stack（可能是 $\epsilon$）。</p><blockquote><p><strong>Definition:</strong></p><p>A <em>pushdown automaton (PDA)</em> is a 6-tuple $(Q, \Sigma, \Gamma, \delta, q_0, F)$:</p><ul><li>$Q$ is a finite set of states.</li><li>$\Sigma$ is the input alphabet.</li><li>$\Gamma$ is the stack alphabet.</li><li>$q_0$ in $Q$ is the initial state.</li><li>$F \subseteq Q$ is a set of final states.</li><li>$\delta$ is the transition function.</li><li><ul><li>$\delta : Q \times (\Sigma \cup \{\epsilon\}) \times (\Gamma \cup \{\epsilon\}) \to 2^{Q \times (\Gamma \cup \{\epsilon\})}$</li></ul></li></ul></blockquote><blockquote><p><strong>Definition:</strong></p><p>PDA $(Q, \Sigma, \Gamma, \delta, q_0, F)$ <em>accepts</em> string $w \in \Sigma^*$ if:</p><ul><li>$w$ can be written as $x_1 x_2 \cdots x_m$, each $x_i \in \Sigma \cup \{\epsilon\}$.</li><li>$\exists r_0, r_1, \cdots, r_m \in Q$, a sequence of $m+1$ states.</li><li>$\exists s_0, s_1, \cdots, s_m \in \Gamma^*$, stack contents.</li><li>such that</li><li><ul><li>$r_0 = q, s_0=\epsilon$.</li></ul></li><li><ul><li>$(r_i, b) \in \delta(r_{i-1},x_i, a)$, where $s_{i-1}=ta$ and $s_i=tb$ for $1 \leq i \leq m$.</li></ul></li><li><ul><li>$r_m\in F$.</li></ul></li></ul></blockquote><p>可以通过构造 PDA 的方法证明
$$L=\{ww^R\}$$
$$L=\{w:w=w^R\}$$
$$L=\{w: w \text{ has the same number of 0s and 1s}\}$$
$$L=\{w: w \text{ has two 0-blocks with same number of 0s}\}$$
都可以被 PDA 识别。</p><h2 id=equivalence-of-cfg-and-pda>Equivalence of CFG and PDA</h2><blockquote><p><strong>Theorem:</strong></p><p>A language L is context-free if and only if it is accepted by some pushdown automaton.</p><p><strong>Proof:</strong></p><p>(1) From CFG to PDA. 思路就是用 PDA 来模拟 leftmost derivation。将每时每刻的 string 倒序放在 stack中，如果 stack 的顶部是 terminal，就和 input 比较，相同则 pop out，不同则 reject；如果 stack 顶部是 variable，就做 leftmost derivation。</p><p>例子：
<img src=/p/theory-of-computation-lecture-4/2.png width=1274 height=661 srcset="/p/theory-of-computation-lecture-4/2_hu11201913059252227659.png 480w, /p/theory-of-computation-lecture-4/2_hu4140085318789904323.png 1024w" loading=lazy class=gallery-image data-flex-grow=192 data-flex-basis=462px></p><p>Formally:
<img src=/p/theory-of-computation-lecture-4/3.png width=1018 height=562 srcset="/p/theory-of-computation-lecture-4/3_hu7313319200416720763.png 480w, /p/theory-of-computation-lecture-4/3_hu7394908644265965931.png 1024w" loading=lazy class=gallery-image data-flex-grow=181 data-flex-basis=434px></p><p>用图来表示 PDA 就是：
<img src=/p/theory-of-computation-lecture-4/4.png width=1242 height=496 srcset="/p/theory-of-computation-lecture-4/4_hu6820510545641362402.png 480w, /p/theory-of-computation-lecture-4/4_hu11289169759666547080.png 1024w" loading=lazy class=gallery-image data-flex-grow=250 data-flex-basis=600px></p><p>(2) From PDA to CFG. 总的思路就是，先令 PDA 只有一个 accept state，并且 accept 之前会清空 stack。然后 CFG 的一个 variable 就是一个字符串的集合，使得 PDA 读取集合中的字符串能从某个 state 转移到另一个 state，同时保持 stack 不变。</p><p>Formally:
<img src=/p/theory-of-computation-lecture-4/5.png width=1727 height=486 srcset="/p/theory-of-computation-lecture-4/5_hu13865199756874930705.png 480w, /p/theory-of-computation-lecture-4/5_hu8929055594026879799.png 1024w" loading=lazy class=gallery-image data-flex-grow=355 data-flex-basis=852px></p><p>CFG 的 rules 如下：
<img src=/p/theory-of-computation-lecture-4/6.png width=1327 height=750 srcset="/p/theory-of-computation-lecture-4/6_hu543238877473941916.png 480w, /p/theory-of-computation-lecture-4/6_hu11033487897053469898.png 1024w" loading=lazy class=gallery-image data-flex-grow=176 data-flex-basis=424px></p><p>并不给出详细的证明，直观理解即可。</p></blockquote><h2 id=chomsky-normal-form-and-cyk-algorithm>Chomsky Normal Form and CYK algorithm</h2><blockquote><p><strong>Definition:</strong></p><p>A context-free grammar is in <em>Chomsky normal form</em> if every rule is of the form:</p><ul><li>$A \to BC$</li><li>$A \to a$</li></ul><p>其中，$A, B, C$ 是任意 variables，$a$ 是任意非 $\epsilon$ 的 terminal。$B, C$ 不能是 start variable。允许 $S\to \epsilon$。</p></blockquote><p>任意 CFG 都可以转换成 CNF 的形式，课件的 91-98 页讲得很清楚，还举了个例子。</p><p>将任意 CFG 转成 CNF 之后，我们就可以用 <em>Cocke–Younger–Kasami algorithm</em> 来判断某个特定的 string 能否被某个特定的 CFG 生成。假设 string 为 $s[1:n]$，CFG 有 $r$ 个 variables $R$，其中 $R_1$ 是 start variable。总的思路是，构造一个 $n\times n\times r$ 的表格 $T$，其中 $T[i,j,k]$ 表示 $s[i:j]$ 能否由 $R_k$ 生成，然后依据 $j-i$ 从小到大的顺序 DP 地判断 $s[i:j]$ 能否被 $R_k$ 生成。最后，$s$ 能被生成当且仅当 $T[1,n,1]$ 为真。</p><h2 id=pumping-lemma-for-cfl>Pumping Lemma for CFL</h2><blockquote><p><strong>Theorem:</strong></p><p>If $A$ is a context-free language, then there is a number $p$ (the pumping length)
where, if $s$ is any string in $A$ of length at least $p$, then $s$ may be divides into 5
pieces $s=uvxyz$, satisfying:</p><ul><li>For each $i\geq 0, uv^ixy^iz \in A$</li><li>$|vy|> 0$</li><li>$|vxy|\leq p$</li></ul><p><strong>Proof:</strong></p><p>用 CFG 来证明，假设 CFG 有 $a$ 个 variables，rules 右手边的 symbols 最长为 $b$ 个。考察 parse tree，当 parse tree 从 root 到 leaf 最深的 path 长度为 $v+2$ 时，至少有一个 variable $N$ 出现了两次，假设 $S\Rightarrow^* uNz\Rightarrow uvNyz\Rightarrow uvxyz$，那么显然也可以有 $S\Rightarrow^* uNz\Rightarrow uvNyz\Rightarrow uvvNyyz\Rightarrow uvvxyyz$。可以算出 $p$ 是 $b,v$ 的一个函数。
<img src=/p/theory-of-computation-lecture-4/7.png width=948 height=865 srcset="/p/theory-of-computation-lecture-4/7_hu2178050390804505139.png 480w, /p/theory-of-computation-lecture-4/7_hu12986633172289653424.png 1024w" loading=lazy class=gallery-image data-flex-grow=109 data-flex-basis=263px></p></blockquote><p>可以用 pumping lemma 证明，$\{a^n b^n c^n | n\geq 0\}, \{ww|w\in\{0,1\}^*\}, \{a^i b^j c^k | 0\leq i\leq j\leq k\}$ 都不是 context-free 的。</p></section><footer class=article-footer><section class=article-tags><a href=/tags/theory-of-computation/>Theory of Computation</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>最后更新于 Apr 17, 2024 15:00 UTC</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/theory-of-computation-lecture-3/><div class=article-image><img src=/p/theory-of-computation-lecture-3/cover.5f5e9c4304a2514432b7282528d1e5b3_hu4880160208832955682.png width=250 height=150 loading=lazy alt="Featured image of post Theory of Computation Lecture 3" data-key=Theory-of-Computation-Lecture-3 data-hash="md5-X16cQwSiUUQytyglKNHlsw=="></div><div class=article-details><h2 class=article-title>Theory of Computation Lecture 3</h2></div></a></article><article class=has-image><a href=/p/theory-of-computation-lecture-2/><div class=article-image><img src=/p/theory-of-computation-lecture-2/cover.d961239af205931394d8a84ce64bd2a7_hu6011312951006749613.png width=250 height=150 loading=lazy alt="Featured image of post Theory of Computation Lecture 2" data-key=Theory-of-Computation-Lecture-2 data-hash="md5-2WEjmvIFkxOU2KhM5kvSpw=="></div><div class=article-details><h2 class=article-title>Theory of Computation Lecture 2</h2></div></a></article><article class=has-image><a href=/p/theory-of-computation-lecture-1/><div class=article-image><img src=/p/theory-of-computation-lecture-1/cover.86b4cdeb0eca4d88890d85ec894e304c_hu14731684250797830019.png width=250 height=150 loading=lazy alt="Featured image of post Theory of Computation Lecture 1" data-key=Theory-of-Computation-Lecture-1 data-hash="md5-hrTN6w7KTYiJDYXsiU4wTA=="></div><div class=article-details><h2 class=article-title>Theory of Computation Lecture 1</h2></div></a></article><article><a href=/p/drl-notes-6/><div class=article-details><h2 class=article-title>Deep Reinforcement Learning Lecture 6</h2></div></a></article><article><a href=/p/drl-notes-5/><div class=article-details><h2 class=article-title>Deep Reinforcement Learning Lecture 5</h2></div></a></article></div></div></aside><script src=https://utteranc.es/client.js repo=SUZ-tsinghua/SUZ-tsinghua.github.io issue-term=title crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>let utterancesLoaded=!1;function setUtterancesTheme(e){let t=document.querySelector(".utterances iframe");t&&t.contentWindow.postMessage({type:"set-theme",theme:`github-${e}`},"https://utteranc.es")}addEventListener("message",e=>{if(e.origin!=="https://utteranc.es")return;utterancesLoaded=!0,setUtterancesTheme(document.documentElement.dataset.scheme)}),window.addEventListener("onColorSchemeChange",e=>{if(!utterancesLoaded)return;setUtterancesTheme(e.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2024 suz</section><section class=powerby>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.26.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>